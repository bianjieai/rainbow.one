<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- 移动设备优先 -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Rainbow</title>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <!-- Bootstrap -->
    <link href="./resources/img/page_icon.png" rel="shortcut icon" type="image/x-icon">
    <link href="./resources/css/bootstrap.min.css" rel="stylesheet">
    <link href="./resources/css/download/download.css" rel="stylesheet">
</head>
<body>

<div id="all" class="container_fluid" hidden="hidden">
    <div class="main pc">
        <div class="header_container">
            <div class="header_wrap">
                <div class="header_logo">
                    <img src="./resources/img/rainbowlogo.png"/>
                </div>
                <div class="lang_block">
                    <span class="ch_lang_btn" data-i18n-text="langZh"></span>
                    <span class="line"></span>
                    <span class="en_lang_btn" data-i18n-text="langEn"></span>
                </div>
            </div>
        </div>
        <div class="content_container">
            <div class="content_wrap">
                <div class="font_container">
                    <div class="title">
                        <p id="title_first" data-i18n-text="titleFirst"></p>
                    </div>
                    <p class="title_info" data-i18n-text="titleInfo"></p>
                    <div class="download_content">
                        <div class="android_content">
                            <div class="download_android_content">
                                <img class="android_logo" src="resources/img/android_logo.png">
                                <span data-i18n-text="android"></span>
                                <img class="qr_img" src="resources/img/qr_logo.png">
                            </div>
                            <div class="qr_content">
                                <img class="qr_download_img" src="env/${env}/download_android.jpg" alt="">
                            </div>
                        </div>
                        <div class="ios_content">
                            <div class="download_ios_content">
                                <img class="ios_logo" src="resources/img/ios_logo.png">
                                <span data-i18n-text="ios"></span>
                                <img class="qr_img" src="resources/img/qr_logo.png">
                            </div>
                            <div class="ios_qr_content">
                                <img class="ios_qr_download_img" src="env/${env}/download_ios.jpg">
                                <p class="setting_content" data-i18n-text="iOSSetting"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer_content">
            <div class="footer_bottom_content">
                <div class="privacy_content">
                    <a class="privacy_link" href="./service_agreement.html" target="_blank" data-i18n-text="privacyLink"></a>
                    <span class="bottom_line">|</span>
                    <a class="terms_link" href="./privacy.html" target="_blank" data-i18n-text="termsLink"></a>
                </div>
                <div class="copyright_content"><span data-i18n-text="copyrightContent"></span></div>
            </div>
        </div>
    </div>
    <div class="phone">
        <div class="mobile_content">
            <div class="mobile_img_logo">
                <div class="mobile_header_logo">
                    <img src="resources/img/mobile_logo.png">
                    <div class="mobile_lang_content">
                        <span class="lang_cn_btn" data-i18n-text="langZh"></span>
                        <span class="mobile_line"></span>
                        <span class="lang_en_btn" data-i18n-text="langEn"></span>
                    </div>
                </div>

                <div class="font_content">
                    <div>
                        <div class="mobile_phone_img">
                            <img class="phone_img" src="resources/img/mobile_phone_zh.png">
                        </div>
                        <p class="info_title" data-i18n-text="mobileTitleFirst"></p>
                        <p class="info_title_client" data-i18n-text="mobileClient"></p>
                        <div>
                            <div class="mobile_android_content">
                                <div class="mobile_download_android_content" onclick="window.location.href='https://d.rainbowinstaller.cn/testnet/rainbow-latest.apk'">
                                    <img class="mobile_android_logo" src="resources/img/android_logo.png">
                                    <span class="android" data-i18n-text="android"></span>
                                </div>
                                <div class="qr_content">
                                    <img class="qr_download_img" src="env/${env}/download_android.jpg" alt="">
                                </div>
                            </div>
                            <div class="mobile_ios_content">
                                <div class="mobile_download_ios_content" onclick="window.location.href='itms-services://?action=download-manifest&url=https://d.rainbowinstaller.cn/${env}/rainbow.plist'">
                                    <img class="ios_logo" src="resources/img/ios_logo.png">
                                    <span class="ios" data-i18n-text="ios"></span>
                                </div>
                                <p class="mobile_setting_content" data-i18n-text="iOSSetting"></p>
                                <div class="ios_qr_content">
                                    <img class="ios_qr_download_img" src="env/${env}/download_ios.jpg">
                                    <p class="setting_content" data-i18n-text="iOSSetting"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer">
                        <a class="privacy_link" href="./service_agreement.html" target="_blank" data-i18n-text="privacyLink"></a>
                        <span class="mobile_bottom_line">|</span>
                        <a class="terms_link" href="./privacy.html" target="_blank" data-i18n-text="termsLink"></a>
                        <p class="bottom_copyright" data-i18n-text="copyrightContent"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="./resources/js/jquery.min.js"></script>
<script src="./resources/js/jquery.i18n.properties-min.js"></script>
<script type="application/javascript">
    $(document).ready(function () {
        var ua = navigator.userAgent;
        var lang = navigator.language || navigator.userLanguage;
        lang = lang.substr(0,2).toLowerCase();
        if(lang === "zh"){
            $('.content_wrap').css("background-image","url(resources/img/pc_background_phone.png)")
            $(".en_lang_btn").removeClass("change-color").addClass("default-color");
            $(".ch_lang_btn").addClass("change-color");
            $(".lang_en_btn").removeClass("change-color").addClass("default-color");
            $(".lang_cn_btn").addClass("change-color");
            $('.phone_img').attr("src","resources/img/mobile_phone_zh.png")
            changLang("zh");
        }else if(lang === "en"){
            $('.content_wrap').css("background-image","url(resources/img/pc_background_phone_en.png)")
            $(".en_lang_btn").addClass("change-color");
            $(".ch_lang_btn").removeClass("change-color").addClass("default-color");
            $(".lang_en_btn").addClass("change-color");
            $(".lang_cn_btn").removeClass("change-color").addClass("default-color");
            $('.phone_img').attr("src","resources/img/mobile_phone.png")
            changLang("en");
        }else {
            $('.content_wrap').css("background-image","url(resources/img/pc_background_phone_en.png)")
            $(".en_lang_btn").addClass("change-color");
            $(".ch_lang_btn").removeClass("change-color").addClass("default-color");
            $(".lang_en_btn").addClass("change-color");
            $(".lang_cn_btn").removeClass("change-color").addClass("default-color");
            $('.phone_img').attr("src","resources/img/mobile_phone.png")
            changLang("en");
        }

        var ipad = ua.match(/(iPad).*OS\s([\d_]+)/),
            isIphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/),
            isAndroid = ua.match(/(Android)\s+([\d.]+)/),
            isMobile = isIphone || isAndroid;

        if (isMobile) {
            $("div.pc").hide();
            $("div.phone").show();
            $("#all").show();

        } else {
            $("div.pc").show();
            $("div.phone").hide();
            $("#all").show();
        }
    });
    function changLang(currnetLang){
        $.i18n.properties({
            name:currnetLang,
            path:"./resources/i18n/",
            mode:"map",
            language:currnetLang,
            callback:function () {
                try {
                    $('[data-i18n-text]').each(function () {
                        var html = $(this).html();
                        var reg = /<(.*)>/;
                        if(reg.test(html)){
                            var htmlValue = reg.exec(html)[0];
                            $(this).html(htmlValue + $.i18n.prop($(this).data('i18n-text')))
                        }else {
                            $(this).text($.i18n.prop($(this).data('i18n-text')));
                        }
                    })
                }
                catch (e) {

                }
            }
        });
    };

    $('.android_content').hover(function () {
        if(window.innerWidth < 900){
            $('.ios_content').addClass("hide")
        }
    },function () {
        $('.ios_content').removeClass("hide")
    })

    $(".ch_lang_btn").click(function () {
        $('.content_wrap').css("background-image","url(resources/img/pc_background_phone.png)")
        $(".en_lang_btn").removeClass("change-color");
        $(".ch_lang_btn").addClass("change-color");
        $(".font-big").removeClass("hide-text");
        changLang("zh")
    });

    $(".en_lang_btn").click(function () {
        $('.content_wrap').css("background-image","url(resources/img/pc_background_phone_en.png)")
        $(".ch_lang_btn").removeClass("change-color");
        $(".ch_lang_btn").addClass("default-color");
        $(".en_lang_btn").addClass("change-color");
        $(".font-big").addClass("hide-text");
        changLang("en")
    });

    $(".lang_cn_btn").on("touchstart",function () {
		$('.phone_img').attr("src","resources/img/mobile_phone_zh.png")
        $(".lang_en_btn").removeClass("change-color");
        $(".lang_cn_btn").addClass("change-color");
        changLang("zh")
    });

    $(".lang_en_btn").on("touchstart",function () {
		$('.phone_img').attr("src","resources/img/mobile_phone.png")
		$(".lang_cn_btn").removeClass("change-color");
        $(".lang_cn_btn").addClass("default-color");
        $(".lang_en_btn").addClass("change-color");
        changLang("en")
    })
</script>
</body>
</html>
